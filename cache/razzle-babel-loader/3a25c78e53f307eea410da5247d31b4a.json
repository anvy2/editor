{"ast":null,"code":"import _assertThisInitialized from \"/Users/anvy/Desktop/chatteron/temp/new/node_modules/.pnpm/@babel+runtime@7.14.6/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _defineProperty from \"/Users/anvy/Desktop/chatteron/temp/new/node_modules/.pnpm/@babel+runtime@7.14.6/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classPrivateFieldGet from \"/Users/anvy/Desktop/chatteron/temp/new/node_modules/.pnpm/@babel+runtime@7.14.6/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet\";\nimport _classPrivateFieldSet from \"/Users/anvy/Desktop/chatteron/temp/new/node_modules/.pnpm/@babel+runtime@7.14.6/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet\";\nimport _classCallCheck from \"/Users/anvy/Desktop/chatteron/temp/new/node_modules/.pnpm/@babel+runtime@7.14.6/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/anvy/Desktop/chatteron/temp/new/node_modules/.pnpm/@babel+runtime@7.14.6/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/anvy/Desktop/chatteron/temp/new/node_modules/.pnpm/@babel+runtime@7.14.6/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/Users/anvy/Desktop/chatteron/temp/new/node_modules/.pnpm/@babel+runtime@7.14.6/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/anvy/Desktop/chatteron/temp/new/node_modules/.pnpm/@babel+runtime@7.14.6/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/anvy/Desktop/chatteron/temp/new/node_modules/.pnpm/@babel+runtime@7.14.6/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/anvy/Desktop/chatteron/temp/new/src/Editor/index.tsx\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Quill from \"quill\";\nimport hljs from \"highlight.js\";\nimport EditorStyles from \"./Styles\";\nimport * as Emoji from \"quill-emoji\";\nhljs.configure({\n  languages: [\"javascript\", \"python\", \"c++\"]\n});\n\nvar highlightCode = function highlightCode(text) {\n  console.log(hljs.highlightAuto(text).value);\n  return hljs.highlightAuto(text).value;\n};\n\nvar BlockEmbed = Quill[\"import\"]('modules/blockembed');\n\nvar CustomCode = /*#__PURE__*/function (_BlockEmbed) {\n  _inherits(CustomCode, _BlockEmbed);\n\n  var _super = _createSuper(CustomCode);\n\n  function CustomCode() {\n    _classCallCheck(this, CustomCode);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CustomCode, null, [{\n    key: \"create\",\n    value: function create(value) {\n      var lang = value.lang,\n          content = value.content;\n\n      var node = _get(_getPrototypeOf(CustomCode), \"create\", this).call(this, value);\n\n      var code = document.createElement('code');\n      code.setAttribute('class', lang);\n      code.textContent = content;\n      node.appendChild(code);\n      return node;\n    }\n  }, {\n    key: \"value\",\n    value: function value(node) {\n      return {\n        lang: node.firstChild.getAttribute('class'),\n        content: node.firstChild.innerText\n      };\n    }\n  }]);\n\n  return CustomCode;\n}(BlockEmbed);\n\nCustomCode.blotName = 'code-custom';\nCustomCode.tagName = 'pre';\n\nvar _quill = /*#__PURE__*/new WeakMap();\n\nvar Editor = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Editor, _React$PureComponent);\n\n  var _super2 = _createSuper(Editor);\n\n  function Editor(props) {\n    var _this;\n\n    _classCallCheck(this, Editor);\n\n    _this = _super2.call(this, props);\n\n    _quill.set(_assertThisInitialized(_this), {\n      writable: true,\n      value: void 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function () {\n      if (_this.props.converter) {\n        _this.props.setText(_this.props.converter.translate(_classPrivateFieldGet(_assertThisInitialized(_this), _quill).root.innerHTML));\n      } else {\n        _this.props.setText(_classPrivateFieldGet(_assertThisInitialized(_this), _quill).root.innerHTML);\n      }\n    });\n\n    _this.state = {};\n    Quill.register(\"modules/emoji\", Emoji);\n    return _this;\n  }\n\n  _createClass(Editor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      _classPrivateFieldSet(this, _quill, new Quill(\"#editor-container\", {\n        modules: {\n          toolbar: {\n            container: [[{\n              header: [1, 2, false]\n            }], [\"bold\", \"italic\", \"underline\"], [\"image\", \"code-block\"], [\"emoji\"], [\"code-custom\"]],\n            handlers: {\n              emoji: function emoji() {}\n            }\n          },\n          \"emoji-toolbar\": this.props.theme === \"snow\",\n          \"emoji-textarea\": this.props.theme === \"bubble\",\n          \"emoji-shortname\": true,\n          syntax: {\n            highlight: highlightCode\n          }\n        },\n        placeholder: \"Compose an epic...\",\n        theme: this.props.theme // or 'bubble'\n\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(EditorStyles, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }\n      }, __jsx(\"div\", {\n        className: \"editor__wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        id: \"editor-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      })), __jsx(\"button\", {\n        className: \"submit__button\",\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, \"Submit\"));\n    }\n  }]);\n\n  return Editor;\n}(React.PureComponent);\n\nexport default Editor;","map":{"version":3,"sources":["/Users/anvy/Desktop/chatteron/temp/new/src/Editor/index.tsx"],"names":["React","Quill","hljs","EditorStyles","Emoji","configure","languages","highlightCode","text","console","log","highlightAuto","value","BlockEmbed","CustomCode","lang","content","node","code","document","createElement","setAttribute","textContent","appendChild","firstChild","getAttribute","innerText","blotName","tagName","Editor","props","converter","setText","translate","root","innerHTML","state","register","modules","toolbar","container","header","handlers","emoji","theme","syntax","highlight","placeholder","handleSubmit","PureComponent"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Quill from \"quill\";\nimport hljs from \"highlight.js\";\nimport EditorStyles from \"./Styles\";\nimport * as Emoji from \"quill-emoji\";\n\nimport { NodeHtmlMarkdown } from \"node-html-markdown\";\n\nhljs.configure({\n  languages: [\"javascript\", \"python\", \"c++\"],\n});\n\nconst highlightCode = (text: string) => {\n  console.log(hljs.highlightAuto(text).value);\n  return hljs.highlightAuto(text).value\n};\nvar BlockEmbed = Quill.import('modules/blockembed')\nclass CustomCode extends BlockEmbed {\n  static create(value) {\n    let {lang, content} = value;\n    let node = super.create(value);\n    const code = document.createElement('code');\n    code.setAttribute('class', lang);\n    code.textContent = content;\n    node.appendChild(code);\n    return node;\n  }\n\n  static value(node) {\n    return {\n      lang: node.firstChild.getAttribute('class'),\n      content: node.firstChild.innerText\n    };\n  }\n}\n\nCustomCode.blotName = 'code-custom';\nCustomCode.tagName = 'pre';\n\n\n\nexport interface IProps {\n  theme: string;\n  setText: (text: string) => void;\n  converter?: NodeHtmlMarkdown;\n}\nexport interface IState {}\n\nclass Editor extends React.PureComponent<Readonly<IProps>, IState> {\n  #quill: any;\n  constructor(props: Readonly<IProps>) {\n    super(props);\n    this.state = {};\n\n    Quill.register(\"modules/emoji\", Emoji);\n  }\n\n  componentDidMount() {\n    this.#quill = new Quill(\"#editor-container\", {\n      modules: {\n        toolbar: {\n          container: [\n            [{ header: [1, 2, false] }],\n            [\"bold\", \"italic\", \"underline\"],\n            [\"image\", \"code-block\"],\n            [\"emoji\"],\n            [\"code-custom\"],\n          ],\n          handlers: { emoji: function () {} },\n        },\n        \"emoji-toolbar\": this.props.theme === \"snow\",\n        \"emoji-textarea\": this.props.theme === \"bubble\",\n        \"emoji-shortname\": true,\n        syntax: {\n          highlight: highlightCode\n        }\n      },\n      placeholder: \"Compose an epic...\",\n      theme: this.props.theme, // or 'bubble'\n    });\n  }\n\n  handleSubmit = () => {\n    if (this.props.converter) {\n      this.props.setText(\n        this.props.converter.translate(this.#quill.root.innerHTML)\n      );\n    } else {\n      this.props.setText(this.#quill.root.innerHTML);\n    }\n  };\n\n  render() {\n    return (\n      <EditorStyles>\n        <div className=\"editor__wrap\">\n          <div id=\"editor-container\"></div>\n        </div>\n        <button className=\"submit__button\" onClick={this.handleSubmit}>\n          Submit\n        </button>\n      </EditorStyles>\n    );\n  }\n}\n\nexport default Editor;\n"]},"metadata":{},"sourceType":"module"}